@{
    Layout = "~/Views/Shared/_InstructorLayout.cshtml";
}
@model EduSubmit.Models.Assignment

@{
    ViewData["Title"] = "Delete Assignment";
}

<div class="container mt-4">
    <div class="card shadow-sm p-4">
        <h2 class="text-danger">Confirm Deletion</h2>
        <p class="mt-3">Are you sure you want to delete this assignment?</p>

        <!-- Assignment Details -->
        <div class="card bg-light p-3">
            <h5 class="text-dark">@Model.Title</h5>
            <p><strong>Subject:</strong> @Model.SubjectName</p>
            <p><strong>Class:</strong> @Model.Class?.ClassName</p>
            <p><strong>Due Date:</strong> @Model.DueDate.ToString("yyyy-MM-dd")</p>
            <p><strong>Points:</strong> @Model.Points</p>
            <p><strong>Submissions:</strong> @(Model.Submissions?.Count ?? 0)</p>
        </div>

        @if (Model.Submissions != null && Model.Submissions.Count > 0)
        {
            <div class="alert alert-warning mt-3">
                <i class="fas fa-exclamation-triangle"></i>
                This assignment cannot be deleted because students have already submitted their work.
            </div>
            <a asp-action="Assignments" class="btn btn-secondary mt-3">Back to Assignments</a>
        }
        else
        {
            <!-- Delete Confirmation Form -->
            <form asp-action="DeleteAssignment" method="post" class="mt-4">
                @Html.AntiForgeryToken()
                <input type="hidden" asp-for="AssignmentId" />

                <button type="submit" class="btn btn-danger">
                    <i class="fas fa-trash"></i> Delete
                </button>
                <a asp-action="Assignments" class="btn btn-secondary">
                    <i class="fas fa-times"></i> Cancel
                </a>
            </form>
        }
    </div>
</div>

<!-- FontAwesome Icons (If not already included) -->
<script src="https://kit.fontawesome.com/a076d05399.js" crossorigin="anonymous"></script>
