@{
    ViewData["Title"] = "Register";
}

<h2 class="text-center mb-4">Register As</h2>

<div class="d-flex justify-content-center mb-4">
    <button id="studentBtn" class="btn btn-primary mx-2">Student</button>
    <button id="instructorBtn" class="btn btn-outline-primary mx-2">Instructor</button>
    <button id="adminBtn" class="btn btn-outline-primary mx-2">Admin</button>
</div>

<div class="container">

    <!-- Student Registration Form -->
    <form id="studentForm" class="needs-validation" novalidate>
        <div class="card mb-3">
            <div class="card-header bg-primary text-white">Student Registration</div>
            <div class="card-body">
                <div class="form-group">
                    <label for="studentName">Name</label>
                    <input type="text" class="form-control" id="studentName" name="studentName" required />
                    <div class="invalid-feedback">Name is required.</div>
                </div>
                <div class="form-group">
                    <label for="studentEmail">Email</label>
                    <input type="email" class="form-control" id="studentEmail" name="studentEmail" required />
                    <div class="invalid-feedback">Valid email is required.</div>
                </div>
                <div class="form-group">
                    <label for="studentPassword">Password</label>
                    <input type="password" class="form-control" id="studentPassword" name="studentPassword" required />
                    <div class="invalid-feedback">Password is required.</div>
                </div>
                <button type="submit" class="btn btn-success mt-3">Register as Student</button>
            </div>
        </div>
    </form>

    <!-- Instructor Registration Form -->
    <form id="instructorForm" class="needs-validation d-none" novalidate>
        <div class="card mb-3">
            <div class="card-header bg-primary text-white">Instructor Registration</div>
            <div class="card-body">
                <div class="form-group">
                    <label for="instructorName">Name</label>
                    <input type="text" class="form-control" id="instructorName" name="instructorName" required />
                    <div class="invalid-feedback">Name is required.</div>
                </div>
                <div class="form-group">
                    <label for="instructorEmail">Email</label>
                    <input type="email" class="form-control" id="instructorEmail" name="instructorEmail" required />
                    <div class="invalid-feedback">Valid email is required.</div>
                </div>
                <div class="form-group">
                    <label for="instructorPassword">Password</label>
                    <input type="password" class="form-control" id="instructorPassword" name="instructorPassword" required />
                    <div class="invalid-feedback">Password is required.</div>
                </div>
                <button type="submit" class="btn btn-success mt-3">Register as Instructor</button>
            </div>
        </div>
    </form>

    <!-- Admin Registration Form -->
    <form id="adminForm" class="needs-validation d-none" novalidate>
        <div class="card mb-3">
            <div class="card-header bg-primary text-white">Admin Registration</div>
            <div class="card-body">
                <div class="form-group">
                    <label for="adminName">Name</label>
                    <input type="text" class="form-control" id="adminName" name="adminName" required />
                    <div class="invalid-feedback">Name is required.</div>
                </div>
                <div class="form-group">
                    <label for="adminEmail">Email</label>
                    <input type="email" class="form-control" id="adminEmail" name="adminEmail" required />
                    <div class="invalid-feedback">Valid email is required.</div>
                </div>
                <div class="form-group">
                    <label for="adminPassword">Password</label>
                    <input type="password" class="form-control" id="adminPassword" name="adminPassword" required />
                    <div class="invalid-feedback">Password is required.</div>
                </div>
                <button type="submit" class="btn btn-success mt-3">Register as Admin</button>
            </div>
        </div>
    </form>

</div>

@section Scripts {
    <script>
        document.addEventListener("DOMContentLoaded", function () {
            const studentBtn = document.getElementById("studentBtn");
            const instructorBtn = document.getElementById("instructorBtn");
            const adminBtn = document.getElementById("adminBtn");

            const studentForm = document.getElementById("studentForm");
            const instructorForm = document.getElementById("instructorForm");
            const adminForm = document.getElementById("adminForm");

            function resetButtons() {
                studentBtn.classList.remove("btn-primary", "active");
                studentBtn.classList.add("btn-outline-primary");

                instructorBtn.classList.remove("btn-primary", "active");
                instructorBtn.classList.add("btn-outline-primary");

                adminBtn.classList.remove("btn-primary", "active");
                adminBtn.classList.add("btn-outline-primary");
            }

            function hideAllForms() {
                studentForm.classList.add("d-none");
                instructorForm.classList.add("d-none");
                adminForm.classList.add("d-none");
            }

            studentBtn.addEventListener("click", function () {
                resetButtons();
                hideAllForms();
                studentBtn.classList.add("btn-primary", "active");
                studentBtn.classList.remove("btn-outline-primary");
                studentForm.classList.remove("d-none");
            });

            instructorBtn.addEventListener("click", function () {
                resetButtons();
                hideAllForms();
                instructorBtn.classList.add("btn-primary", "active");
                instructorBtn.classList.remove("btn-outline-primary");
                instructorForm.classList.remove("d-none");
            });

            adminBtn.addEventListener("click", function () {
                resetButtons();
                hideAllForms();
                adminBtn.classList.add("btn-primary", "active");
                adminBtn.classList.remove("btn-outline-primary");
                adminForm.classList.remove("d-none");
            });

            // Enable Bootstrap validation styling
            (() => {
                'use strict';
                const forms = document.querySelectorAll('.needs-validation');

                Array.from(forms).forEach(form => {
                    form.addEventListener('submit', event => {
                        if (!form.checkValidity()) {
                            event.preventDefault();
                            event.stopPropagation();
                        }
                        form.classList.add('was-validated');
                    }, false);
                });
            })();
        });
    </script>
}